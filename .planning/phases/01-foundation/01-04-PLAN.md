---
phase: 01-foundation
plan: "04"
type: execute
wave: 4
depends_on:
  - "01-03"
files_modified: []
autonomous: false
requirements:
  - REQ-F01
  - REQ-F09

must_haves:
  truths:
    - "The site loads at rebeccaanisman.com with HTTPS active — padlock visible in browser address bar"
    - "Visiting http://rebeccaanisman.com redirects to https://rebeccaanisman.com automatically"
    - "Netlify deploy dashboard shows Published status for the most recent commit to main"
    - "The Netlify auto-generated URL (*.netlify.app) loads the Origami Games home page — not a default Netlify splash page"
    - "Pushing a commit to main triggers an automatic Netlify redeploy within 60 seconds"
  artifacts:
    - path: "CNAME"
      provides: "Custom domain declaration — already exists, must remain unmodified"
      contains: "rebeccaanisman.com"
  key_links:
    - from: "GitHub repo (main branch)"
      to: "Netlify"
      via: "Auto-deploy on push — Netlify watches main branch"
      pattern: "n/a — configured in Netlify dashboard"
    - from: "Netlify site"
      to: "rebeccaanisman.com"
      via: "Custom domain in Netlify dashboard — DNS points to Netlify load balancer"
      pattern: "n/a — configured in Squarespace DNS + Netlify dashboard"

user_setup:
  - service: netlify
    why: "Static site hosting and auto-deploy from GitHub"
    dashboard_config:
      - task: "Connect GitHub repo to Netlify"
        location: "Netlify dashboard → Add new site → Import an existing project → GitHub → select repo → branch: main → publish directory: / (repo root) → Deploy site"
      - task: "Add custom domain"
        location: "Netlify dashboard → Site settings → Domain management → Add a domain → enter rebeccaanisman.com → Verify"
      - task: "Configure DNS in Squarespace (www subdomain)"
        location: "Squarespace account → Domains → rebeccaanisman.com → DNS Settings → add CNAME record: Host: www → Points to: [your-netlify-subdomain].netlify.app (exact subdomain shown in Netlify Domain management panel)"
      - task: "Apex domain DNS for Netlify (if Squarespace DNS supports ALIAS/ANAME)"
        location: "Squarespace DNS → Add ALIAS or ANAME record: Host: @ → Points to: [your-netlify-subdomain].netlify.app — OR use Netlify DNS instead (see netlify-dns service below)"
  - service: netlify-dns
    why: "Alternative to Squarespace DNS — simpler for apex domain on Netlify"
    dashboard_config:
      - task: "Optionally transfer DNS to Netlify (recommended if Squarespace DNS lacks ALIAS/ANAME)"
        location: "Netlify dashboard → Domain management → rebeccaanisman.com → Use Netlify DNS → copy 4 name servers → update name servers in Squarespace Domains panel"
---

<objective>
Connect the GitHub repository to Netlify for auto-deployment, configure the custom domain `rebeccaanisman.com`, and verify the live site is accessible over HTTPS.

Purpose: The local scaffold is complete. This plan takes the code live — Netlify auto-deploys from main, the custom domain resolves, and HTTPS is confirmed active. Phase 1 is complete when rebeccaanisman.com loads with a padlock.

Output: Live site at rebeccaanisman.com with HTTPS, Netlify connected to GitHub repo with auto-deploy on push.
</objective>

<execution_context>
@C:/Users/rebec/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/rebec/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 1: Connect GitHub repo to Netlify and configure custom domain DNS</name>
  <action>
    Connect the GitHub repository to Netlify and configure the custom domain. Claude cannot log into your Netlify or Squarespace accounts — you must complete these steps.

    **Step 1 — Deploy to Netlify:**

    1. Go to https://app.netlify.com and log in (or create a free account)
    2. Click "Add new site" → "Import an existing project"
    3. Choose "Deploy with GitHub"
    4. Authorize Netlify to access your GitHub account if prompted
    5. Select the portfolio repository from the list
    6. Configure deploy settings:
       - Branch to deploy: `main`
       - Base directory: *(leave blank — repo root)*
       - Publish directory: *(leave blank — repo root)*
       - Build command: *(leave blank — no build step)*
    7. Click "Deploy site"
    8. Wait for the first deploy to complete (green checkmark in deploy log)
    9. Note the auto-generated Netlify URL (e.g. `mystical-crumble-abc123.netlify.app`) — you'll need this for DNS

    **Step 2 — Add custom domain in Netlify:**

    1. In Netlify: Site settings → Domain management → "Add a domain"
    2. Enter: `rebeccaanisman.com`
    3. Click "Verify" — Netlify will ask you to confirm you own the domain
    4. Note the Netlify subdomain shown (e.g. `mystical-crumble-abc123.netlify.app`) — use this in Step 3

    **Step 3 — Configure DNS in Squarespace:**

    Netlify recommends one of two approaches. Choose whichever Squarespace supports:

    *Option A — Use Netlify DNS (simplest for apex domains):*
    1. In Netlify Domain management → rebeccaanisman.com → "Use Netlify DNS"
    2. Netlify provides 4 name server addresses
    3. In your Squarespace account → Domains → rebeccaanisman.com → Name Servers
    4. Replace Squarespace name servers with the 4 Netlify ones
    5. DNS propagation takes 1–48 hours (usually under 2 hours)

    *Option B — Keep Squarespace DNS, add CNAME records:*
    1. In Squarespace Domains → DNS Settings for rebeccaanisman.com
    2. Add a CNAME record: Host: `www` → Points to: `[your-netlify-subdomain].netlify.app`
    3. For the apex domain (`@`): Squarespace DNS may support ALIAS or ANAME records — check if available
       - If yes: Host: `@` → Points to: `[your-netlify-subdomain].netlify.app`
       - If no: Use Option A (Netlify DNS) instead — apex domains require ALIAS/ANAME, not CNAME

    **Step 4 — HTTPS:**

    Netlify provisions HTTPS automatically via Let's Encrypt once DNS propagates. No action needed — it activates on its own within ~24 hours of DNS propagating.

    **What NOT to do:**
    - Do NOT modify the CNAME file in the GitHub repository — it is not used by Netlify and modifying it causes confusion
    - Do NOT configure GitHub Pages settings — deployment is through Netlify, not GitHub Pages directly
    - Do NOT set GitHub Pages A records (185.199.108.x) — those are for GitHub Pages hosting, not Netlify
  </action>
  <verify>
    <automated>MISSING — this is a human-only dashboard action; no automated verification possible at this step</automated>
    <manual>Netlify deploy log shows green "Published" status. The auto-generated Netlify URL (*.netlify.app) loads the site. DNS configuration entered in Squarespace or Netlify DNS panel.</manual>
  </verify>
  <done>Netlify deploy is green. Custom domain rebeccaanisman.com added in Netlify domain management. DNS configured (either via Netlify DNS or Squarespace CNAME/ALIAS records).</done>
  <resume-signal>Type "netlify-connected" when the Netlify deploy is green and you have configured DNS. Or describe the exact step where you're stuck.</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify live site at Netlify URL and custom domain with HTTPS</name>
  <action>Visit the Netlify-generated URL and the custom domain to confirm the deploy is live, auto-deploy works, and HTTPS is provisioned. No files are written — this task confirms the infrastructure is working correctly.</action>
  <verify>
    <automated>MISSING — this is a human browser and dashboard check; no automated verification possible</automated>
    <manual>See how-to-verify checks 1–4: Netlify deploy green, auto-deploy triggered by push, custom domain loads with padlock, http redirects to https.</manual>
  </verify>
  <done>Netlify deploy shows "Published"; site is visible at the *.netlify.app URL; push to main triggers redeploy within 60 seconds; rebeccaanisman.com loads with padlock (or DNS propagation confirmed underway).</done>
  <what-built>
    Netlify connected to GitHub repo with auto-deploy on main. Custom domain configured. HTTPS provisioning underway.
  </what-built>
  <how-to-verify>
    DNS propagation can take up to 24 hours. These checks may not all pass immediately after completing the DNS step. Check them in order and note which pass:

    **Check 1 — Netlify deploy working (should pass immediately):**
    1. In Netlify dashboard → Deploys → confirm the latest deploy shows "Published" in green
    2. Visit the Netlify auto-generated URL (e.g. https://mystical-crumble-abc123.netlify.app)
    3. You should see the Origami Games home page — "Origami Games" in the browser tab, nav and footer visible

    **Check 2 — Auto-deploy works (test now):**
    4. Add a small HTML comment to index.html: `<!-- deploy test -->`
    5. Commit and push to main:
       ```bash
       git add index.html && git commit -m "test: verify Netlify auto-deploy" && git push
       ```
    6. In Netlify dashboard → Deploys — a new deploy should appear within 30–60 seconds
    7. After it completes, remove the test comment, commit, and push again to clean up

    **Check 3 — Custom domain (after DNS propagates, may take up to 24 hours):**
    8. Visit https://rebeccaanisman.com — should load the site with padlock in address bar
    9. Visit http://rebeccaanisman.com — should redirect to HTTPS automatically
    10. Visit https://www.rebeccaanisman.com — should also redirect to the apex domain (Netlify handles www redirect)

    **Check 4 — HTTPS confirmed:**
    11. Padlock visible in Chrome/Firefox/Safari address bar at https://rebeccaanisman.com
    12. In Netlify → Domain management → rebeccaanisman.com — should show "HTTPS: Netlify managed" or "Certificate: Let's Encrypt"

    If DNS has not propagated yet (Check 3 fails), that is expected — approve this checkpoint once Check 1 and Check 2 pass, and revisit Check 3 and 4 within 24 hours. The site is live on the Netlify URL immediately.
  </how-to-verify>
  <resume-signal>Type "approved" when Checks 1 and 2 pass (Netlify deploy confirmed working and auto-deploy tested). Note status of Check 3 and 4 (DNS may still be propagating).</resume-signal>
</task>

</tasks>

<verification>
After Netlify deploy and DNS propagation:

```bash
# Confirm CNAME still intact (must not have been touched)
cat C:/Users/rebec/Documents/Portfolio/CNAME
# Should return: rebeccaanisman.com
```

Netlify dashboard confirmation:
- Deploy log: latest deploy shows "Published"
- Domain management: rebeccaanisman.com shows certificate active

DNS verification after propagation:
```bash
# Should return Netlify IP addresses (not GitHub Pages IPs 185.199.x.x)
# On Windows: nslookup rebeccaanisman.com
# On Mac/Linux: dig rebeccaanisman.com +short
```

HTTPS verification:
```bash
curl -I https://rebeccaanisman.com
# Look for: HTTP/2 200 and x-nf-request-id (Netlify header)
```
</verification>

<success_criteria>
- Netlify dashboard shows successful deploy of main branch (REQ-F01)
- Visiting the Netlify auto-generated URL shows the Origami Games home page
- Push to main triggers automatic redeploy within 60 seconds
- rebeccaanisman.com loads with HTTPS active and padlock visible (REQ-F09) — may require DNS propagation time (up to 24 hours)
- http://rebeccaanisman.com redirects to https:// automatically
- CNAME file in repo remains unmodified (contains rebeccaanisman.com)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-04-SUMMARY.md`
</output>
